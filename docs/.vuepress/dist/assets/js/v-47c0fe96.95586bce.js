"use strict";(self.webpackChunkinterview_fe=self.webpackChunkinterview_fe||[]).push([[792],{6834:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p={key:"v-47c0fe96",path:"/JS/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE.html",title:"åŸå‹ä¸åŸå‹é“¾",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:3,title:"æè¿°ä¸‹åŸå‹å’ŒåŸå‹é“¾ğŸŒŸ",slug:"æè¿°ä¸‹åŸå‹å’ŒåŸå‹é“¾",children:[]},{level:3,title:"åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ä¹‹é—´çš„å…³ç³»ğŸŒŸ",slug:"åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ä¹‹é—´çš„å…³ç³»",children:[]},{level:3,title:"new è¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹ğŸŒŸ",slug:"new-è¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹",children:[]},{level:3,title:"{}ã€new Object() å’Œ Object.create() çš„åŒºåˆ«ï¼Ÿ",slug:"ã€new-object-å’Œ-object-create-çš„åŒºåˆ«",children:[]},{level:3,title:"instanceof åŸç†ï¼Ÿ",slug:"instanceof-åŸç†",children:[]},{level:3,title:"ç»§æ‰¿çš„æ–¹å¼ï¼Ÿ",slug:"ç»§æ‰¿çš„æ–¹å¼",children:[]},{level:3,title:"ES5 å’Œ ES6ç»§æ‰¿æ–¹å¼æ¯”è¾ƒï¼Ÿ",slug:"es5-å’Œ-es6ç»§æ‰¿æ–¹å¼æ¯”è¾ƒ",children:[]},{level:3,title:"è°ˆè°ˆå¯¹ class çš„ç†è§£ï¼ŸğŸŒŸ",slug:"è°ˆè°ˆå¯¹-class-çš„ç†è§£",children:[]},{level:3,title:"class åŸå‹æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ",slug:"class-åŸå‹æœ¬è´¨æ˜¯ä»€ä¹ˆ",children:[]},{level:3,title:"es6 class çš„ constructor é‡Œé¢å’Œå¤–é¢çš„æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ",slug:"es6-class-çš„-constructor-é‡Œé¢å’Œå¤–é¢çš„æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«",children:[]}],filePathRelative:"JS/åŸå‹ä¸åŸå‹é“¾.md",git:{updatedTime:1638182112e3,contributors:[{name:"brightLian",email:"brightLian@126.com",commits:4}]}}},1796:(n,s,a)=>{a.r(s),a.d(s,{default:()=>e});const p=(0,a(6252).uE)('<h1 id="åŸå‹ä¸åŸå‹é“¾" tabindex="-1"><a class="header-anchor" href="#åŸå‹ä¸åŸå‹é“¾" aria-hidden="true">#</a> åŸå‹ä¸åŸå‹é“¾</h1><p>JS æœ‰ä¸‰å¤§å¿…è€ƒçŸ¥è¯†ç‚¹ï¼šåŸå‹ä¸åŸå‹é“¾ã€ä½œç”¨åŸŸä¸é—­åŒ…ã€åŒæ­¥ä¸å¼‚æ­¥ã€‚</p><p>æœ¬ç« èŠ‚æ˜¯ä¸‰å¤§å¿…è€ƒç‚¹ä¹‹ä¸€ï¼Œå¤§å¤šæ•°å…¬å¸åœ¨é¢è¯•çš„æ—¶å€™éƒ½ä¼šæ¶‰åŠåˆ°è¿™éƒ¨åˆ†çš„é¢˜ç›®ã€‚</p><h3 id="æè¿°ä¸‹åŸå‹å’ŒåŸå‹é“¾" tabindex="-1"><a class="header-anchor" href="#æè¿°ä¸‹åŸå‹å’ŒåŸå‹é“¾" aria-hidden="true">#</a> æè¿°ä¸‹åŸå‹å’ŒåŸå‹é“¾ğŸŒŸ</h3><ul><li>åŸå‹ <ul><li>æ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªæ˜¾ç¤ºåŸå‹ prototype</li><li>æ¯ä¸€ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªéšå¼åŸå‹ __proto__</li><li>å®ä¾‹çš„éšå¼åŸå‹ç­‰äºæ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹</li></ul></li><li>åŸå‹é“¾ <ul><li>è®¿é—®ä¸€ä¸ªå®ä¾‹ä¸­çš„æ–¹æ³•æˆ–è€…å±æ€§ï¼Œæ‰¾ä¸åˆ°ä¼šè‡ªåŠ¨å» __proto__ ä¸­å¯»æ‰¾ï¼ŒçŸ¥é“æœ€åæŸ¥æ‰¾åˆ° Object.prototype ä¸­ï¼Œå¦‚æœè¿˜æ‰¾ä¸åˆ°å°±è¿”å› null</li><li>æˆ‘ä»¬å¯ä»¥é€šè¿‡ hasOwnPrototype æ¥ç¡®å®šå±æ€§æˆ–è€…æ–¹æ³•æ˜¯å¦æ˜¯å®ä¾‹è‡ªèº«çš„</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> o1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  name<span class="token operator">:</span> <span class="token string">&#39;brightLian&#39;</span><span class="token punctuation">,</span>\n  <span class="token function-variable function">sayName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹</span>\no1<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span> <span class="token comment">// å®ä¾‹çš„éšå¼åŸå‹</span>\n<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> o1<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span> <span class="token comment">// true å®ä¾‹çš„éšå¼åŸå‹===æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹</span>\no1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨å®ä¾‹çš„æ–¹æ³•</span>\no1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨æ„é€ å‡½æ•°çš„æ–¹æ³•</span>\no1<span class="token punctuation">.</span>xxx<span class="token punctuation">;</span> <span class="token comment">// è·å–ä¸å­˜åœ¨çš„å±æ€§ undefined</span>\no1<span class="token punctuation">.</span><span class="token function">xxx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–ä¸å­˜åœ¨çš„æ–¹æ³•ï¼ŒæŠ¥é”™</span>\no1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;sayName&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true åˆ¤æ–­ sayName æ˜¯å¦æ˜¯å®ä¾‹çš„è‡ªæœ‰å±æ€§</span>\no1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;toString&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false åˆ¤æ–­æ„é€ å‡½æ•°çš„æ–¹æ³•æ˜¯ä¸æ˜¯å®ä¾‹çš„è‡ªæœ‰å±æ€§</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ä¹‹é—´çš„å…³ç³»" tabindex="-1"><a class="header-anchor" href="#åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ä¹‹é—´çš„å…³ç³»" aria-hidden="true">#</a> åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ä¹‹é—´çš„å…³ç³»ğŸŒŸ</h3><ul><li>å…³ç³»ï¼šæˆ‘ä»¬å‡è®¾ o1 æ˜¯é€šè¿‡ Object å®ä¾‹åŒ–å‡ºæ¥çš„ <ul><li>å®ä¾‹æ˜¯é€šè¿‡æ„é€ å‡½æ•° new å‡ºæ¥çš„</li><li>å®ä¾‹çš„éšå¼åŸå‹ç­‰äºæ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹ï¼šo1.__proto__ === Object.prototype</li><li>å®ä¾‹çš„ constructor ç­‰äºæ„é€ å‡½æ•°ï¼šo1.constructor === Object</li></ul></li><li>ä¸èƒ½ç»™æ„é€ å‡½æ•°ç›´æ¥æ·»åŠ å±æ€§ï¼Œä½†å¯ä»¥é€šè¿‡ç»™æ„é€ å‡½æ•°çš„åŸå‹æ·»åŠ å±æ€§</li><li>æ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆï¼Œè€Œå®ä¾‹éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘åŸå‹å¯¹è±¡çš„å†…éƒ¨æŒ‡é’ˆ</li><li>å¯ä»¥é€šè¿‡ instanceof æ“ä½œç¬¦æ¥ç¡®å®šåŸå‹å’Œå®ä¾‹ä¹‹é—´çš„å…³ç³»</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> o1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// é”™è¯¯å†™æ³•ï¼Œä¸èƒ½ç›´æ¥ç»™æ„é€ å‡½æ•°æ·»åŠ å±æ€§</span>\n<span class="token comment">// Object.log1 = function() {</span>\n<span class="token comment">//   console.log(1);</span>\n<span class="token comment">// }</span>\n<span class="token comment">// o1.log1(); // æŠ¥é”™</span>\n<span class="token comment">// æ­£ç¡®å†™æ³•ï¼Œç»™æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹æ·»åŠ å±æ€§</span>\n<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">log1</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\no1<span class="token punctuation">.</span><span class="token function">log1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1ï¼Œä¸ä¼šæŠ¥é”™</span>\no1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true å®ä¾‹çš„éšå¼åŸå‹ === æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹ ä¸¤ä¸ªåŸå‹å¯¹è±¡çš„æŒ‡é’ˆç›¸åŒ</span>\no1<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">;</span> <span class="token comment">// true å®ä¾‹çš„ constructor === æ„é€ å‡½æ•°</span>\no1 <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\no1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span>  <span class="token comment">// true å¯ä»¥é€šè¿‡ instanceof æ¥ç¡®å®šåŸå‹å’Œå®ä¾‹ä¹‹é—´çš„å…³ç³»</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="new-è¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#new-è¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹" aria-hidden="true">#</a> new è¿ç®—ç¬¦çš„æ‰§è¡Œè¿‡ç¨‹ğŸŒŸ</h3><ol><li>åœ¨å†…å­˜ä¸­æ–°åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</li><li>é“¾æ¥åˆ°åŸå‹ï¼Œå³è®©ç©ºå¯¹è±¡çš„éšå¼åŸå‹ç­‰äºå…¶æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹</li><li>å°†æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸º this çš„ä¸Šä¸‹æ–‡ï¼ˆæ„é€ å‡½æ•°å†…éƒ¨çš„ this è¢«èµ‹å€¼ä¸ºè¿™ä¸ªæ–°å¯¹è±¡ï¼‰</li><li>è¿”å›æ–°çš„å¯¹è±¡</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myNew</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> thisConstructor <span class="token operator">=</span> params<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// è·å–æ„é€ å‡½æ•°</span>\n  <span class="token keyword">const</span> args <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–å…¶ä½™å‚æ•°</span>\n  <span class="token comment">// 1.åœ¨å†…å­˜ä¸­å£°æ˜ä¸€ä¸ªå¯¹è±¡</span>\n  <span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token comment">// 2.å¯¹è±¡çš„éšå¼åŸå‹é“¾æ¥åˆ°æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹</span>\n  o<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> thisConstructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>\n  <span class="token comment">// 3.ç»‘å®š this</span>\n  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">thisConstructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// 4.è¿”å›å€¼ï¼Œè€ƒè™‘ new Object çš„æƒ…å†µ</span>\n  <span class="token keyword">return</span> result <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> result <span class="token operator">:</span> o<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> number<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> per1 <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span> <span class="token string">&#39;brightLian&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> per2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;xxs&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> per3 <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Object<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  name<span class="token operator">:</span> <span class="token string">&#39;ljc&#39;</span><span class="token punctuation">,</span>\n  age<span class="token operator">:</span> <span class="token string">&#39;3&#39;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>per1<span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>per2<span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>per3<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="ã€new-object-å’Œ-object-create-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#ã€new-object-å’Œ-object-create-çš„åŒºåˆ«" aria-hidden="true">#</a> {}ã€new Object() å’Œ Object.create() çš„åŒºåˆ«ï¼Ÿ</h3><ul><li>ä¸»è¦ä½“ç°åœ¨åŸå‹ï¼š <ul><li>{} ç­‰åŒäº new Object()ï¼ŒåŸå‹æ˜¯ Object.prototype</li><li>Object.create() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºå¯¹è±¡çš„ __proto__ã€‚Object.create(null) æ²¡æœ‰åŸå‹ï¼ŒObject.create({...}) å¯ä»¥æŒ‡å®šåŸå‹</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>\n  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n  b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n  <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n  b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n  <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> obj3 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ— å±æ€§æ— åŸå‹</span>\n\n<span class="token keyword">const</span> obj4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ— å±æ€§æœ‰åŸå‹</span>\n\n<span class="token keyword">const</span> obj5 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n  b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n  <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ— å±æ€§æœ‰åŸå‹ï¼Œä½†æ˜¯å±æ€§ä¼šç»‘å®šåˆ°åŸå‹ä¸Š</span>\n\n<span class="token keyword">const</span> obj6 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ— å±æ€§æœ‰åŸå‹ï¼Œobj6åŸå‹è¢«ç»‘å®šåˆ°obj1</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj6<span class="token punctuation">.</span>b<span class="token punctuation">)</span> <span class="token comment">// 2ï¼Œobj1 ä¸º obj6 çš„åŸå‹ï¼Œè‡ªèº«æ‰¾ä¸åˆ°å›å»åŸå‹é“¾ä¸Šæ‰¾</span>\nobj6<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1.1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 1</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj6<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 1.1 ç»§æ‰¿æ¥çš„å±æ€§å¯ä»¥è¢«é‡å†™ </span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">===</span> obj6<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="instanceof-åŸç†" tabindex="-1"><a class="header-anchor" href="#instanceof-åŸç†" aria-hidden="true">#</a> instanceof åŸç†ï¼Ÿ</h3><p>æ£€æµ‹æ„é€ å‡½æ•°çš„ prototype å±æ€§æ˜¯å¦å‡ºç°åœ¨å®ä¾‹çš„åŸå‹é“¾ä¸Šã€‚(å³æ“ä½œæ•°çš„ prototype æ˜¯å¦å‡ºç°åœ¨å·¦æ“ä½œæ•°çš„åŸå‹é“¾ä¸Š)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// é€’å½’æ–¹å¼</span>\n<span class="token keyword">function</span> <span class="token function">myInstanceof</span> <span class="token punctuation">(</span><span class="token parameter">leftValue<span class="token punctuation">,</span> rightValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// å·¦æ“ä½œæ•°çš„éšå¼åŸå‹</span>\n  <span class="token keyword">const</span> leftValueProto <span class="token operator">=</span> leftValue<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>\n  <span class="token comment">// å³æ“ä½œæ•°çš„æ˜¾ç¤ºåŸå‹</span>\n  <span class="token keyword">const</span> rightValuePrototype <span class="token operator">=</span> rightValue<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>\n  <span class="token comment">// å¾ªç¯è°ƒç”¨å‡ºç°å·¦æ“ä½œæ•°çš„éšå¼åŸå‹ä¸º null æ—¶</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>leftValueProto <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token boolean">false</span>\n  <span class="token punctuation">}</span>\n  <span class="token comment">// å·¦æ“ä½œæ•°çš„éšå¼åŸå‹ç­‰äºæœ‰æ“ä½œæ•°çš„æ˜¾ç¤ºåŸå‹</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>leftValueProto <span class="token operator">===</span> rightValuePrototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span>\n  <span class="token comment">// å¾ªç¯è°ƒç”¨</span>\n  <span class="token keyword">return</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span>leftValueProto<span class="token punctuation">,</span> rightValue<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// å¾ªç¯æ–¹å¼</span>\n<span class="token keyword">function</span> <span class="token function">myInstanceof2</span> <span class="token punctuation">(</span><span class="token parameter">leftValue<span class="token punctuation">,</span> rightValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> leftValueProto <span class="token operator">=</span> leftValue<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>\n  <span class="token keyword">while</span> <span class="token punctuation">(</span>leftValueProto<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>leftValueProto <span class="token operator">===</span> rightValue<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token boolean">true</span>\n    <span class="token punctuation">}</span>\n    leftValueProto <span class="token operator">=</span> leftValueProto<span class="token punctuation">.</span>__proto__\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> <span class="token boolean">false</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="ç»§æ‰¿çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ç»§æ‰¿çš„æ–¹å¼" aria-hidden="true">#</a> ç»§æ‰¿çš„æ–¹å¼ï¼Ÿ</h3><ul><li>ES5ï¼šæœ€å¸¸ä½¿ç”¨åŸå‹é“¾ + æ„é€ å‡½æ•°ç»“åˆå®ç°ç»§æ‰¿ã€‚ï¼ˆä½¿ç”¨åŸå‹é“¾å®ç°å¯¹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œä½¿ç”¨æ„é€ å‡½æ•°æ¥å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿ã€‚ï¼‰</li><li>ES6ï¼šä½¿ç”¨ class é€šè¿‡ extends è¿›è¡Œç»§æ‰¿ã€‚</li></ul><h3 id="es5-å’Œ-es6ç»§æ‰¿æ–¹å¼æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#es5-å’Œ-es6ç»§æ‰¿æ–¹å¼æ¯”è¾ƒ" aria-hidden="true">#</a> ES5 å’Œ ES6ç»§æ‰¿æ–¹å¼æ¯”è¾ƒï¼Ÿ</h3><ul><li>åœ¨ES5ä¸­ï¼Œç»§æ‰¿å®è´¨ä¸Šæ˜¯å­ç±»å…ˆåˆ›å»ºå±äºè‡ªå·±çš„ thisï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ° thisï¼ˆä¹Ÿå°±æ˜¯ä½¿ç”¨ Parent.apply(this)çš„æ–¹å¼</li><li>åœ¨ES6ä¸­ï¼Œåˆ™æ˜¯å…ˆåˆ›å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡ thisï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹ thisã€‚</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ç»„åˆå¼ç»§æ‰¿</span>\n<span class="token keyword">function</span> <span class="token function">SuperType</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name\n<span class="token punctuation">}</span>\n\n<span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">SubType</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ç»§æ‰¿å±æ€§</span>\n  <span class="token function">SuperType</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age\n<span class="token punctuation">}</span>\n\n<span class="token comment">// ç»§æ‰¿æ–¹æ³•</span>\n<span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SuperType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayAge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="è°ˆè°ˆå¯¹-class-çš„ç†è§£" tabindex="-1"><a class="header-anchor" href="#è°ˆè°ˆå¯¹-class-çš„ç†è§£" aria-hidden="true">#</a> è°ˆè°ˆå¯¹ class çš„ç†è§£ï¼ŸğŸŒŸ</h3><ul><li>å®é™… class æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå…¶åº•å±‚è¿˜æ˜¯é€šè¿‡åŸå‹é“¾å»åˆ›å»ºçš„ã€‚æ‰€ä»¥å®ƒçš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½ï¼ŒES5éƒ½å¯ä»¥åšåˆ°ã€‚æ–°çš„ class å†™æ³•åªæ˜¯è®©å¯¹è±¡åŸå‹çš„å†™æ³•æ›´åŠ æ¸…æ™°ã€æ›´åƒé¢å‘å¯¹è±¡ç¼–ç¨‹çš„è¯­æ³•è€Œå·²ã€‚</li><li><strong>constructorï¼š</strong> ç”¨äºåœ¨ç±»çš„å®šä¹‰å—å†…éƒ¨åˆ›å»ºç±»çš„æ„é€ å‡½æ•°ï¼Œå‘Šè¯‰è§£é‡Šå™¨åœ¨ä½¿ç”¨ new æ“ä½œç¬¦åˆ›å»ºç±»çš„æ–°å®ä¾‹æ—¶ï¼Œåº”è¯¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</li><li><strong>å±æ€§ï¼š</strong> æ„é€ å‡½æ•°å†…éƒ¨ä»£ç æ‰§è¡Œåï¼Œé€šè¿‡ this ç»‘å®šç»™å®ä¾‹ç»‘å®šçš„å€¼ã€‚</li><li><strong>æ–¹æ³•ï¼š</strong> ç±»ç›¸å½“äºå®ä¾‹çš„åŸå‹ï¼Œæ‰€æœ‰åœ¨ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½ä¼šè¢«å®ä¾‹ç»§æ‰¿ã€‚</li><li><strong>ç»§æ‰¿ extendsï¼š</strong><ul><li><strong>superï¼š</strong> super ä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œä»£è¡¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚åŒæ—¶ES6è¦æ±‚ï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€æ¬¡ super å‡½æ•°ã€‚</li><li><strong>æ‰©å±•å’Œé‡å†™ï¼š</strong> å­ç±»ä¸­çš„æ–¹æ³•å¯ä»¥è¦†ç›–çˆ¶ç±»ä¸­çš„æ–¹æ³•ã€‚</li></ul></li><li><strong>åŸå‹å…³ç³»ï¼š</strong><ul><li>æ¯ä¸ª class éƒ½æœ‰æ˜¾ç¤ºåŸå‹ prototype</li><li>æ¯ä¸ªå®ä¾‹éƒ½æœ‰éšå¼åŸå‹ __proto__</li><li>class çš„æ˜¾ç¤ºåŸå‹ä¸å®ä¾‹çš„éšå¼åŸå‹ç›¸ç­‰</li></ul></li><li><strong>åŸºäºåŸå‹çš„æ‰§è¡Œè§„åˆ™ï¼š</strong><ul><li>è·å–æŸä¸ªå±æ€§æˆ–æ–¹æ³•æ—¶å…ˆåœ¨è‡ªèº«å±æ€§å’Œæ–¹æ³•ä¸­å¯»æ‰¾</li><li>å¦‚æœæ‰¾ä¸åˆ°è‡ªåŠ¨å» __proto__ ä¸­å»å¯»æ‰¾</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å£°æ˜ä¸€ä¸ªåŸºç±»</span>\n<span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name\n  <span class="token punctuation">}</span>\n\n  <span class="token function">eat</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> eating something</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// å­ç±»1 Student ç»§æ‰¿äºåŸºç±» People</span>\n<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> number<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayNumber</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> number is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">sayHi</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">å§“åï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ï¼Œå­¦å·ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// å­ç±»2 Teacher ç»§æ‰¿äºåŸºç±» People</span>\n<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> major</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>major <span class="token operator">=</span> major<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> eating everything</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">teachSome</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">å§“åï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ï¼Œç§‘ç›®ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>major<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// å£°æ˜ä¸€ä¸ª Student çš„å®ä¾‹</span>\n<span class="token keyword">let</span> xiaoluo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&#39;xiaoluo&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// å£°æ˜ä¸€ä¸ª Teacher çš„å®ä¾‹</span>\n<span class="token keyword">let</span> teacherWang <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">&#39;teacherWang&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;è¯­æ–‡&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nxiaoluo<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å®ä¾‹çš„ class ä¸­æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œå»å…¶ class çˆ¶ç±»ä¸­å¯»æ‰¾</span>\nteacherWang<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯¹çˆ¶ç±»æ–¹æ³•é‡å†™åå†è°ƒç”¨</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoluo<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> xiaoluo<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// class çš„æ˜¾ç¤ºåŸå‹ç­‰äºå…¶å®ä¾‹çš„éšå¼åŸå‹</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">People</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> <span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true å­ class çš„æ˜¾ç¤ºåŸå‹çš„éšå¼åŸå‹ç­‰äºå…¶çˆ¶ class çš„æ˜¾ç¤ºåŸå‹</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacherWang<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Teacher<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true å®ä¾‹çš„ constructor ç­‰äºå…¶æ„é€ å‡½æ•°</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoluo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;sayHi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false class ä¸­çš„æ–¹æ³•</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoluo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;sayNumber&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true æ„é€ å‡½æ•°è‡ªèº«çš„æ–¹æ³•</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoluo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true æ„é€ å‡½æ•°è‡ªèº«çš„å±æ€§</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoluo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;eat&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false class çš„çˆ¶ç±»ä¸­çš„æ–¹æ³•</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacherWang<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;eat&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true è‡ªèº«å±æ€§é‡å†™äº†çˆ¶ç±»çš„å±æ€§</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p>å›¾ç‰‡è§£æå¦‚ä¸‹: <img src="/image/JS/åŸå‹ä¸åŸå‹é“¾.png" alt="åŸå‹é“¾å›¾ç‰‡è§£æ"></p><h3 id="class-åŸå‹æœ¬è´¨æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#class-åŸå‹æœ¬è´¨æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> class åŸå‹æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>æœ¬è´¨æ˜¯ functionï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ typeof æ¥æŸ¥çœ‹ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">typeof</span> Person<span class="token punctuation">;</span> <span class="token comment">// function</span>\nPerson <span class="token keyword">instanceof</span> <span class="token class-name">Function</span> <span class="token comment">// true</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="es6-class-çš„-constructor-é‡Œé¢å’Œå¤–é¢çš„æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#es6-class-çš„-constructor-é‡Œé¢å’Œå¤–é¢çš„æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«" aria-hidden="true">#</a> es6 class çš„ constructor é‡Œé¢å’Œå¤–é¢çš„æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/* Aç±»ï¼Œæ–¹æ³•å†™åœ¨constructoré‡Œé¢ */</span>\n<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;A show&#39;</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\na<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; A show</span>\n\n<span class="token comment">/* Bç±»ï¼Œæ–¹æ³•å†™åœ¨constructorå¤–é¢ */</span>\n<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">show</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;B show&#39;</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\nb<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// =&gt; B show</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>é—®é¢˜ä¹Ÿå°±æ˜¯ï¼šA ç±»çš„ show æ–¹æ³•å’Œ B ç±»çš„ show æ–¹æ³•è°ƒç”¨ç»“æœéƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆè¯·é—®å†™åœ¨ constructor é‡Œå’Œå¤–é¢çš„åŒºåˆ«æ˜¯ï¼Ÿ</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>show <span class="token operator">===</span> a2<span class="token punctuation">.</span>show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// false</span>\n\n<span class="token keyword">const</span> b1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> b2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b1<span class="token punctuation">.</span>show <span class="token operator">===</span> b2<span class="token punctuation">.</span>show<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æˆ‘ä»¬é€šè¿‡ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼šä¸¤ç§æ–¹æ³•çš„è°ƒç”¨ç»“æœè™½ç„¶ç›¸åŒï¼Œä½†æ˜¯ä¸€ä¸ªæ˜¯åŸå‹æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯å®ä¾‹æ–¹æ³•ã€‚<br> å®ä¾‹æ–¹æ³•ï¼ˆå³å†™åœ¨ constructor å†…çš„ï¼‰åœ¨ä½¿ç”¨ new å…³é”®å­—å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œnew çš„å†…éƒ¨å®ç°ä¸­ï¼Œä¼šæ”¹å˜ this æŒ‡å‘ï¼Œæ‰€ä»¥æ¯ä¸ªå®ä¾‹çš„ show æ–¹æ³•éƒ½ä¸ä¸€æ ·ï¼Œåªæ˜¯åŒåè€Œå·²ã€‚</p><p>æ¢æˆ es5 å°±æ›´åŠ æ¸…æ™°äº†ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å†™åœ¨é‡Œé¢</span>\n<span class="token keyword">function</span> <span class="token constant">A</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// å†™åœ¨å¤–è¾¹</span>\n<span class="token keyword">function</span> <span class="token constant">B</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n<span class="token punctuation">}</span>\n\n<span class="token class-name">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>',37),t={},e=(0,a(3744).Z)(t,[["render",function(n,s){return p}]])},3744:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,p]of s)a[n]=p;return a}}}]);
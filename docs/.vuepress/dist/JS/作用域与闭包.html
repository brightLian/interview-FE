<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <title>作用域与闭包 | BrightLian 前端面试</title><meta name="description" content="">
    <link rel="preload" href="/assets/js/runtime~app.06d9d98f.js" as="script"><link rel="preload" href="/assets/css/styles.d91ae3f5.css" as="style"><link rel="preload" href="/assets/js/567.088b440c.js" as="script"><link rel="preload" href="/assets/js/app.a9dec509.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.d91ae3f5.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">BrightLian 前端面试</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/introduction" class="nav-link" aria-label="进入"><!--[--><!--]--> 进入 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="其他链接"><span class="title">其他链接</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="其他链接"><span class="title">其他链接</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/brightLian/leetcode-FE" rel="noopener noreferrer" target="_blank" aria-label="前端算法"><!--[--><!--]--> 前端算法 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/brightLian/talk-FE" rel="noopener noreferrer" target="_blank" aria-label="前端杂谈"><!--[--><!--]--> 前端杂谈 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/brightLian/interview-FE" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/introduction" class="nav-link" aria-label="进入"><!--[--><!--]--> 进入 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="其他链接"><span class="title">其他链接</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="其他链接"><span class="title">其他链接</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/brightLian/leetcode-FE" rel="noopener noreferrer" target="_blank" aria-label="前端算法"><!--[--><!--]--> 前端算法 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/brightLian/talk-FE" rel="noopener noreferrer" target="_blank" aria-label="前端杂谈"><!--[--><!--]--> 前端杂谈 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/brightLian/interview-FE" rel="noopener noreferrer" target="_blank" aria-label="github"><!--[--><!--]--> github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><a href="/introduction.html" class="nav-link sidebar-heading sidebar-item" aria-label="前言"><!--[--><!--]--> 前言 <!--[--><!--]--></a><!----><!--]--><!--[--><p class="sidebar-heading sidebar-item">面试前准备工作</p><ul class=""><li><!--[--><a href="/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/%E7%AE%80%E5%8E%86%E5%87%86%E5%A4%87.html" class="nav-link sidebar-item" aria-label="简历准备"><!--[--><!--]--> 简历准备 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/JD%E5%88%86%E6%9E%90.html" class="nav-link sidebar-item" aria-label="JD 分析"><!--[--><!--]--> JD 分析 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/%E9%9D%A2%E8%AF%95%E6%B5%81%E7%A8%8B.html" class="nav-link sidebar-item" aria-label="面试流程"><!--[--><!--]--> 面试流程 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/%E5%85%AC%E5%8F%B8%E9%80%89%E6%8B%A9.html" class="nav-link sidebar-item" aria-label="北京公司总结"><!--[--><!--]--> 北京公司总结 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">HTML 相关</p><ul class=""><li><!--[--><a href="/HTML/HTML.html" class="nav-link sidebar-item" aria-label="HTML 基础知识"><!--[--><!--]--> HTML 基础知识 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">CSS 相关</p><ul class=""><li><!--[--><a href="/CSS/CSS.html" class="nav-link sidebar-item" aria-label="CSS 基础知识"><!--[--><!--]--> CSS 基础知识 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/CSS/CSS%E6%89%8B%E5%86%99%E4%BB%A3%E7%A0%81.html" class="nav-link sidebar-item" aria-label="CSS 手写面试题"><!--[--><!--]--> CSS 手写面试题 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item active">JS 相关</p><ul class=""><li><!--[--><a href="/JS/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" class="nav-link sidebar-item" aria-label="数据类型"><!--[--><!--]--> 数据类型 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/JS/%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6.html" class="nav-link sidebar-item" aria-label="执行机制"><!--[--><!--]--> 执行机制 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/JS/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE.html" class="nav-link sidebar-item" aria-label="原型与原型链"><!--[--><!--]--> 原型与原型链 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="作用域与闭包"><!--[--><!--]--> 作用域与闭包 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#谈谈你对作用域的理解" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="谈谈你对作用域的理解"><!--[--><!--]--> 谈谈你对作用域的理解 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#作用域链是什么" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="作用域链是什么？"><!--[--><!--]--> 作用域链是什么？ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#自由变量是什么" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="自由变量是什么？"><!--[--><!--]--> 自由变量是什么？ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#什么是-this-在不同情况下指向什么" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="什么是 this，在不同情况下指向什么？🌟"><!--[--><!--]--> 什么是 this，在不同情况下指向什么？🌟 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#如何改变-this-的指向" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="如何改变 this 的指向？🌟"><!--[--><!--]--> 如何改变 this 的指向？🌟 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#this-不同场景的取值" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="this 不同场景的取值？"><!--[--><!--]--> this 不同场景的取值？ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#箭头函数使用时的注意事项" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="箭头函数使用时的注意事项？🌟"><!--[--><!--]--> 箭头函数使用时的注意事项？🌟 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#什么是尾调用、尾递归" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="什么是尾调用、尾递归？"><!--[--><!--]--> 什么是尾调用、尾递归？ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#谈谈你对闭包的理解" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="谈谈你对闭包的理解？🌟"><!--[--><!--]--> 谈谈你对闭包的理解？🌟 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#什么是内存泄露" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="什么是内存泄露？"><!--[--><!--]--> 什么是内存泄露？ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#javascript-内存管理是什么" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="JavaScript 内存管理是什么？"><!--[--><!--]--> JavaScript 内存管理是什么？ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/JS/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html#谈谈-javascript-的垃圾回收机制" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="谈谈 JavaScript 的垃圾回收机制？"><!--[--><!--]--> 谈谈 JavaScript 的垃圾回收机制？ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/JS/%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5.html" class="nav-link sidebar-item" aria-label="同步与异步"><!--[--><!--]--> 同步与异步 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/JS/%E5%85%B6%E4%BB%96%E6%9D%82%E4%B9%B1%E7%9F%A5%E8%AF%86%E7%82%B9.html" class="nav-link sidebar-item" aria-label="其他杂乱知识点"><!--[--><!--]--> 其他杂乱知识点 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/JS/JS%E6%89%8B%E5%86%99%E4%BB%A3%E7%A0%81.html" class="nav-link sidebar-item" aria-label="手写代码题目"><!--[--><!--]--> 手写代码题目 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">浏览器</p><ul class=""><li><!--[--><a href="/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9B%B8%E5%85%B3/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9.html" class="nav-link sidebar-item" aria-label="浏览器相关知识点"><!--[--><!--]--> 浏览器相关知识点 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">DOM</p><ul class=""><li><!--[--><a href="/DOM/DOM%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9.html" class="nav-link sidebar-item" aria-label="DOM 相关知识点"><!--[--><!--]--> DOM 相关知识点 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">BOM</p><ul class=""><li><!--[--><a href="/BOM/BOM%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9.html" class="nav-link sidebar-item" aria-label="BOM 相关知识点"><!--[--><!--]--> BOM 相关知识点 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">计算机基础</p><ul class=""><li><!--[--><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/HTTP.html" class="nav-link sidebar-item" aria-label="HTTP 协议"><!--[--><!--]--> HTTP 协议 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/TCP.html" class="nav-link sidebar-item" aria-label="TCP 协议"><!--[--><!--]--> TCP 协议 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%BC%93%E5%AD%98.html" class="nav-link sidebar-item" aria-label="HTTP 缓存"><!--[--><!--]--> HTTP 缓存 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86%E7%82%B9.html" class="nav-link sidebar-item" aria-label="计算机基础其他知识点"><!--[--><!--]--> 计算机基础其他知识点 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">算法</p><ul class=""><li><!--[--><a href="/%E7%AE%97%E6%B3%95/%E5%89%8D%E7%AB%AF%E7%AE%97%E6%B3%95.html" class="nav-link sidebar-item" aria-label="前端算法"><!--[--><!--]--> 前端算法 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">前端框架</p><ul class=""><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/Vue%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html" class="nav-link sidebar-item" aria-label="Vue 的基本使用"><!--[--><!--]--> Vue 的基本使用 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/Vue%E7%9A%84%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7.html" class="nav-link sidebar-item" aria-label="Vue 的高级特性"><!--[--><!--]--> Vue 的高级特性 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/Vue%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86.html" class="nav-link sidebar-item" aria-label="Vue 的实现原理"><!--[--><!--]--> Vue 的实现原理 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/VueRouter.html" class="nav-link sidebar-item" aria-label="VueRouter 相关"><!--[--><!--]--> VueRouter 相关 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/VueX.html" class="nav-link sidebar-item" aria-label="VueX 相关"><!--[--><!--]--> VueX 相关 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/react.html" class="nav-link sidebar-item" aria-label="react 相关"><!--[--><!--]--> react 相关 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%8E%9F%E7%90%86.html" class="nav-link sidebar-item" aria-label="前端框架原理"><!--[--><!--]--> 前端框架原理 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">性能优化</p><ul class=""><li><!--[--><a href="/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" class="nav-link sidebar-item" aria-label="前端性能优化"><!--[--><!--]--> 前端性能优化 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">前端工程化</p><ul class=""><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/git.html" class="nav-link sidebar-item" aria-label="git 相关"><!--[--><!--]--> git 相关 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/webpack.html" class="nav-link sidebar-item" aria-label="webpack 相关"><!--[--><!--]--> webpack 相关 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E9%9B%B6%E6%95%A3%E7%9F%A5%E8%AF%86.html" class="nav-link sidebar-item" aria-label="前端工程化零散知识"><!--[--><!--]--> 前端工程化零散知识 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">前端安全</p><ul class=""><li><!--[--><a href="/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8.html" class="nav-link sidebar-item" aria-label="前端安全"><!--[--><!--]--> 前端安全 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Node 相关</p><ul class=""><li><!--[--><a href="/Node/Node.html" class="nav-link sidebar-item" aria-label="Node 相关知识"><!--[--><!--]--> Node 相关知识 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">开放性问题</p><ul class=""><li><!--[--><a href="/%E5%BC%80%E6%94%BE%E6%80%A7%E9%97%AE%E9%A2%98/%E5%BC%80%E6%94%BE%E6%80%A7%E9%97%AE%E9%A2%98.html" class="nav-link sidebar-item" aria-label="开放性问题"><!--[--><!--]--> 开放性问题 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="作用域与闭包" tabindex="-1"><a class="header-anchor" href="#作用域与闭包" aria-hidden="true">#</a> 作用域与闭包</h1><p>这部分是 JS 三座大山中的第二座，主要题型变种多，我在本章中列举了一些经典的题目，大家在边学习知识点的同时也可以边进行练习。</p><h3 id="谈谈你对作用域的理解" tabindex="-1"><a class="header-anchor" href="#谈谈你对作用域的理解" aria-hidden="true">#</a> 谈谈你对作用域的理解</h3><ul><li>定义：作用域指的是变量和函数能被访问的区域。</li><li>作用域分为以下3类： <ul><li>全局作用域：在全局作用域中声明的变量，能够在程序中任意位置访问到。</li><li>块级作用域：在代码块内声明的变量，只能在代码块内被访问到。</li><li>函数作用域：在 JS 中每声明一个函数就会创建一个函数作用域，在函数内部声明的变量只能在函数中使用。</li></ul></li></ul><h3 id="作用域链是什么" tabindex="-1"><a class="header-anchor" href="#作用域链是什么" aria-hidden="true">#</a> 作用域链是什么？</h3><ul><li><p>定义：当在 JS 中使用一个变量的时候，首先 JS 引擎会尝试在当前作用域下去寻找该变量，如果没找到，再到它的上层作用域寻找，以此类推直到找到该变量或是已经到了全局作用域。</p></li><li><p>用途：保证变量和函数之间的有序访问。</p></li><li><p>理解：其本质是 JavaScript 在执行过程中会创造可执行上下文，可执行上下文中的词法环境中含有外部词法环境的引用，我们可以通过这个引用获取外部词法环境的变量、声明等，这些引用串联起来一直指向全局的词法环境，因此形成了作用域链。</p></li><li><p><strong>简言之：内部环境可以通过作用域链访问所有的外部环境中的变量和函数，外部环境不能访问内部环境中的任何变量和函数。</strong></p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 看这个题 undefined、10、 20</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined 10 20</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 10</span>
<span class="token comment">// 原因是：函数内部 a = 20 在内部发生了变量提升，所以第一个为 undefined</span>
<span class="token comment">// 在全局 var 声明的变量可以通过 window.xxx 访问，自执行函数声明的变量不会污染全局，所以第二个为 10</span>
<span class="token comment">// var = 20 被赋值了，所以第三个为 20</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="自由变量是什么" tabindex="-1"><a class="header-anchor" href="#自由变量是什么" aria-hidden="true">#</a> 自由变量是什么？</h3><ul><li>定义：一个变量在当前作用域中没有定义，但是被使用了，这个变量在这里就是自由变量。</li><li>规则：在变量使用的位置向上级作用域一层一层寻找，直到找到为止。如果全局作用域都没有找到，则报错 xx is not defined。</li><li>闭包中的自由变量规则：在变量定义的位置向上级作用域一层一层寻找，而不是在函数执行的地方寻找。</li></ul><h3 id="什么是-this-在不同情况下指向什么" tabindex="-1"><a class="header-anchor" href="#什么是-this-在不同情况下指向什么" aria-hidden="true">#</a> 什么是 this，在不同情况下指向什么？🌟</h3><ul><li>定义：this 是函数运行时，在函数体内部自动生成的一个对象，只能在函数体内部使用。</li><li>this 指向简述：this 的指向是谁调用指向谁，根据运行时的上下文确定，而不是在定义时就确定。</li><li>this 在不同情况的指向：（按照权重大小排序） <ul><li>在构造函数中被调用：this 指向构造函数所创建的实例。</li><li>使用 apply、call、bind 改变指向：根据传入的参数确定。</li><li>在对象中被调用：this 指向对象本身。</li><li>在普通函数中使用 this：this 在浏览器中指向 window，在 node.js 环境中指向 global。</li><li>在箭头函数中使用 this：this 就是它外层函数的 this，没有外层函数则指向 window/global。</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 注意两种不同的 this</span>
<span class="token keyword">const</span> zhangsan1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;zhangsan1&#39;</span><span class="token punctuation">,</span>
  <span class="token function">sayThis</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 注意异步代码都是在全局作用域中执行的，因此 this 指向 window</span>
  <span class="token function">waitSayThis</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> zhangsan2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;zhangsan2&#39;</span><span class="token punctuation">,</span>
  <span class="token function">sayThis</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 此处因为箭头函数的 this 指向外层函数的 this</span>
  <span class="token function">waitSayThis</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 此处因为箭头函数的 this 指向外层函数的 this，但是没有外层函数所以指向 window</span>
  <span class="token function-variable function">waitSayThis2</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
zhangsan1<span class="token punctuation">.</span><span class="token function">sayThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 当前对象</span>
zhangsan2<span class="token punctuation">.</span><span class="token function">sayThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 当前对象</span>
zhangsan1<span class="token punctuation">.</span><span class="token function">waitSayThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// window，在全局调用所以指向全局</span>
zhangsan2<span class="token punctuation">.</span><span class="token function">waitSayThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 当前对象，箭头函数指向外层 this，外层的 this 为 zhangsan2 </span>
zhangsan2<span class="token punctuation">.</span><span class="token function">waitSayThis2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// window，箭头函数指向外层 this，外层没有为 window/global</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="如何改变-this-的指向" tabindex="-1"><a class="header-anchor" href="#如何改变-this-的指向" aria-hidden="true">#</a> 如何改变 this 的指向？🌟</h3><p>apply 和 call 都是改变 this 的指向并传递参数后执行函数。</p><p>bind 是改变 this 的执行后返回一个函数，然后在调用新函数时再传递参数并执行。</p><p>注意：此外 call 的性能要比 apply 好，因为 call 接收的参数可以直接用作函数执行时的参数，省去了参数结构等操作。</p><ul><li><strong>apply：</strong> 用于在特定的作用域中调用函数，接受两个参数。一个参数是函数运行的作用域，另一个参数是函数的参数数组。</li><li><strong>call：</strong> 用于在特定的作用域中调用函数，接收不定数目参数。第一个参数是函数运行时的作用域，其余参数直接作为函数参数。</li><li><strong>bind：</strong> 创建一个新函数，接受不定数目参数，第一个参数作为函数运行时的作用域，其余参数作为函数参数，需要重新执行新的函数。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&#39;brightLian&#39;</span><span class="token punctuation">;</span> <span class="token comment">// 相当于 window.name</span>
<span class="token keyword">function</span> <span class="token function">fn1</span> <span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// brightLian 0 在全局中执行</span>

<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;brightLian1&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;brightLian2&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;brightLian3&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">fn1</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// brightLian1 1 apply 改变 this 指向</span>
<span class="token function">fn1</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// brightLian2 2 call 改变 this 指向</span>
<span class="token keyword">let</span> fn2 <span class="token operator">=</span> <span class="token function">fn1</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bind 给新的函数绑定 this，函数不会被自动执行</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// brightLian3 3 手动执行绑定 this 的函数</span>
<span class="token function">fn2</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// brightLian3 4，fn2 的 this 指向不会再被改变了。</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="this-不同场景的取值" tabindex="-1"><a class="header-anchor" href="#this-不同场景的取值" aria-hidden="true">#</a> this 不同场景的取值？</h3><p>注意一点即可：普通函数的 this 是在执行时确定的而非在定义时确定。</p><p>看一道简单的题目，this 在不同情况下如何取值。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">getCount</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>User<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token keyword">const</span> func <span class="token operator">=</span> User<span class="token punctuation">.</span>getCount<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined，函数中的 this 再执行时是 window</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1，通过 apply 改变 this 的指向</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="箭头函数使用时的注意事项" tabindex="-1"><a class="header-anchor" href="#箭头函数使用时的注意事项" aria-hidden="true">#</a> 箭头函数使用时的注意事项？🌟</h3><ul><li>函数体内的 this 对象在定义时就确定了，而不是使用时所在的对象。</li><li>不可以作为构造函数，也就是不能使用 new 命令，会报错。</li><li>不可以使用 arguments 对象，该对象在函数不存在。但是可以使用 rest 参数来代替。</li><li>不可以使用 yield 函数，因为箭头函数不能做 Generator 函数。</li></ul><h3 id="什么是尾调用、尾递归" tabindex="-1"><a class="header-anchor" href="#什么是尾调用、尾递归" aria-hidden="true">#</a> 什么是尾调用、尾递归？</h3><ul><li>尾调用：就是某个函数最后一步是调用另一个函数。</li><li>尾递归：如果尾调用的函数是自身，就是尾递归。</li></ul><h3 id="谈谈你对闭包的理解" tabindex="-1"><a class="header-anchor" href="#谈谈你对闭包的理解" aria-hidden="true">#</a> 谈谈你对闭包的理解？🌟</h3><ul><li>闭包的定义：有权访问另一个函数作用域中的变量的函数。</li><li>闭包的两种形式：函数作为参数被传递，函数作为返回值。</li><li>闭包的作用：闭包的最大作用是隐藏变量，通过它可以实现变量私有化、储存变量、保证变量不被外部侵染。</li><li>闭包中自由变量：闭包中自由变量的查找是在函数定义的位置向上级作用域查找，而不是在执行的地方查找。（和一般的自由变量不同）</li><li>闭包的缺点：闭包中的变量会常驻内存，得不到释放。有的会引起内存泄漏（在 IE 中）。</li></ul><p><strong>下面的题目重点看下：1是讲解了闭包的两种形式；2是讲解了闭包中自由变量的取值问题。</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 闭包的两种形式之一：函数作为返回值</span>
<span class="token keyword">function</span> <span class="token function">create</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> fn <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 100 闭包中自由变量被使用时，是在其函数定义位置一层一层向上寻找。</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 闭包的两种形式之一：函数作为参数</span>
<span class="token keyword">function</span> <span class="token function">print</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token comment">// 100 闭包中自由变量被使用时，是在其函数定义位置一层一层向上寻找。</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="什么是内存泄露" tabindex="-1"><a class="header-anchor" href="#什么是内存泄露" aria-hidden="true">#</a> 什么是内存泄露？</h3><ul><li>定义：不会用到的内存，没有及时释放就是内存泄露。</li><li>引起方式： <ul><li>意外的全局变量：无法被回收。</li><li>定时器：未被正确关闭，导致所引用外部变量无法被释放。</li><li>事件监听：没有正确销毁。</li><li>闭包：父级变量无法被释放。</li></ul></li></ul><h3 id="javascript-内存管理是什么" tabindex="-1"><a class="header-anchor" href="#javascript-内存管理是什么" aria-hidden="true">#</a> JavaScript 内存管理是什么？</h3><p>JavaScript 是在创建变量（对象，字符串等）时自动进行了分配内存，并且在不使用它们时会 &quot;自动&quot; 释放。释放的过程称为垃圾回收。</p><ul><li>新生代内存：对象的存活时间较短，新生对象或只经过一次垃圾回收的对象。</li><li>老生代内存：对象的存活时间较长，经历过一次或多次垃圾回收的对象。</li></ul><h3 id="谈谈-javascript-的垃圾回收机制" tabindex="-1"><a class="header-anchor" href="#谈谈-javascript-的垃圾回收机制" aria-hidden="true">#</a> 谈谈 JavaScript 的垃圾回收机制？</h3><ul><li>JS 具有自动的垃圾回收机制，执行环境会负责管理代码执行过程中使用的内存。</li><li>标记清除： <ul><li>目前主流浏览器都是采用标记清除式的垃圾回收策略。</li><li>通过给当前不使用的值加上标记，定期回收有标记的内存。</li></ul></li><li>引用计数： <ul><li>目前 JS 引擎都不再使用此方法。</li><li>通过跟踪记录所有值被引用的次数，次数为0时会被回收。</li></ul></li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">11/29/2021, 6:35:12 PM</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: brightLian@126.com">brightLian</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/JS/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE.html" class="nav-link" aria-label="原型与原型链"><!--[--><!--]--> 原型与原型链 <!--[--><!--]--></a></span><span class="next"><a href="/JS/%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5.html" class="nav-link" aria-label="同步与异步"><!--[--><!--]--> 同步与异步 <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.06d9d98f.js" defer></script><script src="/assets/js/567.088b440c.js" defer></script><script src="/assets/js/app.a9dec509.js" defer></script>
  </body>
</html>
